    
Base URL: http://gstore.unm.edu

    In all requests an application must be specified:

    GET /apps/{app_id}/

    app_id: (string) Registered GSTORE Application. Example: rgis.

Search resources:

    GET /apps/{app_id}/search/{resource}.json
    
    resource: (string) Available values: datasets, dataset_categories, geolookup.

    Parameters:

        query: (string) Keywords to search within the description of the resource.

        sort: (string) Sorting criterion: lastupdate (default), description,  
                    theme, subtheme, groupname, georelevance.  

        dir: (string) Sorting direction. Default: desc (descending order).

        limit: (integer) maximum number of results. Default is 25.

        offset: (integer) Starting index for result set pagination. Default: 0.

        box: (list of float) Array of coordinates defining a bounding box of the form:
             S,W,E,N. A valid epsg parameter must be provided. If the EPSG code is 
            not provided the 4326 is assumed.

        or:
            lat: (float) Latitude in the specified projection.

            lon: (float) Latitude in the specified projection.
            
            tolerance: (float) Geographic (EPSG:4326) distance in meters specifying the 
                diameter within features will intersect. Default is 1000 meters.

        epsg: (integer) EPSG projection coordinates code.

        start_time: (float) Number of seconds before or after January 1, 1970 00:00:00 GMT. 
                    Start of creation time range, see end_time below.
        
        end_time: (float) Number of seconds before or after January 1, 1970 00:00:00 GMT. 
                  End of creation time range, see start_time above.

    Searchable resources ({resource} variable):
 
    Datasets: 

        GET /apps/{app_id}/search/datasets.json

    Dataset_categories:

        Distinct dataset categories listed as: '{theme} - {subtheme} - {groupname}'
        
        GET /apps/{app_id}/search/dataset_categories.json

    Geo-lookups:

        Additional reference vector layers like counties, GNIS, quads, etc.
        The layer's features must be present in the application's geolookup table.

        GET /apps/{app_id}/search/geolookups.json?layer={layer_name}

        Additional parameters:

            what: Layer name specified by string value. Example:

                GET /apps/rgis/search/geolookups.json?layer=nm_gnis&query=Mesa
        
        category: (string) Dataset Category name to filter results. 



Formats available for download:

    GET /apps/{app_id}/datasets/{dataset_id}.{format}

        dataset_id: (integer) Any valid dataset id.

        format: (string) 

            Vector Datasets:

                zip (original source zipped),

                shp: ESRI Shapefile

                gml: Geographic Markup Language

                kml: Keyhole Markup Language

                json: Geographic Javascript Object Notation

                csv: Comma separated values (no geometries included)

                xls: Excel sheet (no geometries included)

            Raster Datasets: ecw, sid, jpg, etc.

            Other: zip or external url redirection.

(EXPERIMENTAL)
Features by dataset for vector based datasets:

    /apps/{app_id}/datasets/{dataset_id}/features.{format}

        dataset_id: (integer) Any valid dataset id.

        format: (string) 

            json: GeoJSON

            kml: Keyhole Markup Language

            gml: Geographic Markup Language

            csv: Comma separated values (no geometries included)

        Parameters:
            gid: (integer) relative id of the feature for 
                the given dataset.
 
            box: Bounding box (see above definition). 
        
            time: Number of seconds after January 1, 1970 00:00:00 GMT. Single timestamp.

            start_time: (float) Number of seconds before or after January 1, 1970 00:00:00 GMT. 
                        Start of creation time range, see end_time below.
            
            end_time: (float) Number of seconds before or after January 1, 1970 00:00:00 GMT. 
                       End of creation time range, see start_time above.

(EXPERIMENTAL)
* Features extracted from any dataset or list of datasets:       
 
    /apps/{app_id}/features.{format}

        Same as features by datasets with the following additional 

        Parameters:
            dataset_ids: comma delimited string of integers representing valid datasets.
                        If this is not provided the search will be global, on all vector
                        datasets. If limit parameter is provided then the count will limit the 
                        specified value per each dataset.                

            strip_collection_markup: (any)  Strips all root tags in XML based formats     
                    and key values for GeoJSON together with the commas separating features.
                    Each line is a feature in its native format.    
                    Useful for processing large data streams.

* This request requires sufficient storage capacity and may take a long period of time to complete.
Make sure you limit the number of results in case you are using a web or GIS desktop client to avoid 
memory overflow problems.

Metadata 

    /apps/{app_id}/datasets/{dataset_id}/metadata/{dataset_id}.{format}
        format: (string) xml, txt, htm

JavaScript Client Mapper:

    /apps/{app_id}/datasets/{dataset_id}/mapper

Services:

    OGC WMS capabilities:

        /apps/{app_id}/datasets/{dataset_id}/services/ogc/wms?VERSION=1.1.1&SERVICE=WMS&REQUEST=GetCapabilities

    OGC WFS capabilities: (If dataset's taxonomy is Vector)

        /apps/{app_id}/datasets/{dataset_id}/services/ogc/wfs?VERSION=1.0.0&SERVICE=WFS&REQUEST=GetCapabilities

    OGC WCS capabilities: (If dataset's taxonomy is Raster)

        /apps/{app_id}/datasets/{dataset_id}/services/ogc/wcs?SERVICE=WCS&REQUEST=GetCapabilities

External Mapping Services:

    Google Maps:

        GET http://maps.google.com/maps?q=http://gstore.umn.edu/apps/{app_id}/datasets/{dataset_id}.kml

    Bing Maps (limited to 2Mb files only):

        GET http://www.bing.com/maps/?mapurl=http://gstore.unm.edu/apps/{app_id}/datasets/{dataset_id}.kml

 
Please send your comments and report problems to:   
    devteam@edac.unm.edu

