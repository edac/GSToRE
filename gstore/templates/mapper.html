<%! import json %>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>GSTORE Dataset Mapper Tool - ${c.D.description}</title>
  <script type="text/javascript" src="http://extjs.cachefly.net/ext-3.2.1/adapter/ext/ext-base.js"></script>
  <script type="text/javascript" src="http://extjs.cachefly.net/ext-3.2.1/ext-all.js"></script>
  <link rel="stylesheet" type="text/css" href="http://extjs.cachefly.net/ext-3.2.1/resources/css/ext-all.css" />
  <link rel="stylesheet" type="text/css" href="${c.MEDIA_URL}/css/style.css" />
  <link rel="stylesheet" type="text/css" href="${c.MEDIA_URL}/css/mapper.css" />

  <script src="http://www.openlayers.org/api/2.10/OpenLayers.js"></script>
  <script type="text/javascript" src="${c.MEDIA_URL}/javascript/geoext/1.0/GeoExt.js"></script>

  <script type="text/javascript" src= "${c.MEDIA_URL}/javascript/proj4js/proj4js-compressed.js"> </script>
  <script type="text/javascript" src= "${c.MEDIA_URL}/javascript/proj4js/defs/EPSG4326.js"> </script>
  <script type="text/javascript" src= "${c.MEDIA_URL}/javascript/proj4js/defs/EPSG26913.js"> </script>


  <script type="text/javascript">
//<![CDATA[
    var Layers = ${json.dumps(c.Layers) | n};
    var Description = ${json.dumps(c.Description) | n};
    var AppId = ${json.dumps(c.AppId) | n};
  //]]>
  </script>
  <script type="text/javascript" src= "/javascript/maps/mapper.js"> </script>

<style>
    #dataset_desc {
        width: 100%;
    }
    #dataset_desc td {
        text-align: left;
    }
    a {
        text-decoration: none;
    }
</style>
</head>

<body>
      <div id="description">
          <table id='dataset_desc'>
            <tr>
                <td width="40%"><b>${c.D.description}</b>
                  <font style='font-size: smaller'>${c.Description['taxonomy_desc']}</font>
                </td>
                <td>
                <div style='float: right'>
                  <span>Date updated: ${str(c.D.dateadded)[0:-10]} </span>
                </div>
                </td>
            </tr>
            <tr>
              <td>Available formats for download
              </td>
              <td>
                    % for met in c.Description['formats']:
                        <a href="${met['text']}">${met['title']}</a> &nbsp; &nbsp;
                    % endfor
              </td>
            </tr>
            <tr>
                <td>Available web services</td>
                <td>
                    % for met in c.Description['services']:
                        <a href="${met['text']}">${met['title']}</a> &nbsp; &nbsp;
                    % endfor
                </td>
            </tr>
            <tr>
                <td>Metadata</td>
                <td>
                    % for met in c.Description['metadata']:
                        <a href="${met['text']}">${met['title']}</a> &nbsp; &nbsp;
                    % endfor
                </td>
            </tr>
        </table>
      </div>
</body>
</html>
